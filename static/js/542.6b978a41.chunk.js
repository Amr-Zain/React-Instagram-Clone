"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[542],{5542:function(e,a,r){r.r(a);var s=r(4165),n=r(5861),t=r(4942),l=r(1413),u=r(885),i=r(2791),o=r(6871),c=r(3504),m=r(2984),p=(r(8815),r(6901)),d=r(7606),h=r(9257),f=r(9062),g=r(7026),x=r(184);a.default=function(){var e=(0,o.s0)(),a=i.useContext(m.Z),r=a.auth,N=a.FieldValue,w=(0,g.Z)(),v=i.useState({email:"",password:"",userName:"",fullName:"",error:""}),b=(0,u.Z)(v,2),j=b[0],Z=b[1],y=""===j.email||""===j.password||j.password.length<8||""===j.userName||""===j.fullName;function C(e){Z((function(a){return(0,l.Z)((0,l.Z)({},a),{},(0,t.Z)({},e.target.name,e.target.value))}))}function k(){return(k=(0,n.Z)((0,s.Z)().mark((function e(a){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,(0,d.$K)(j.userName);case 3:if(e.sent){e.next=21;break}return e.prev=5,e.next=8,(0,h.Xb)(r,j.email,j.password);case 8:return n=e.sent,t=(0,f.hJ)(N,"users"),e.next=12,(0,f.ET)(t,{userId:n.user.uid,username:j.userName.toLowerCase(),fullName:j.fullName,emailAddress:j.email.toLowerCase(),following:["2"],followers:[],photos:0,dateCreated:Date.now()});case 12:return e.next=14,(0,d.bp)("Z4UuSMEn71luvi49bcOr",n.user.uid,!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),Z({email:"",password:"",userName:"",fullName:"",error:e.t0.message.replace("Firebase: Error ","").replace("auth/","")});case 19:e.next=22;break;case 21:Z((function(e){return(0,l.Z)((0,l.Z)({},e),{},{userName:"",error:"That username is already taken, please try another."})}));case 22:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}return i.useEffect((function(){w&&e(p.Sd,{replace:!0})}),[w,e]),i.useEffect((function(){document.title="Signup - Instagram"}),[]),(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)("div",{className:"img-container",children:(0,x.jsx)("img",{src:"https://raw.githubusercontent.com/Amr-Zain/React-Instagram-Clone/master/public/images/iphone-with-profile.jpg",alt:"iPhone with Instagram app"})}),(0,x.jsxs)("div",{className:"container-sec",children:[(0,x.jsxs)("div",{className:"form-container",children:[(0,x.jsx)("img",{className:"logo",src:"https://raw.githubusercontent.com/Amr-Zain/React-Instagram-Clone/master/public/images/logo.png",alt:"logo"}),j.error&&(0,x.jsx)("p",{className:"error",children:j.error}),(0,x.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},method:"POST",children:[(0,x.jsx)("input",{name:"fullName",placeholder:"Enter Your Full Name",type:"text",onChange:C,value:j.fullName}),(0,x.jsx)("input",{name:"email",placeholder:"Enter Your Email",type:"email",onChange:C,value:j.email}),(0,x.jsx)("input",{name:"userName",placeholder:"Enter Your Full Username",type:"text",onChange:C,value:j.userName}),(0,x.jsx)("input",{name:"password",placeholder:"Your Password",type:"password",onChange:C,value:j.password}),(0,x.jsx)("button",{disabled:y,type:"submit",className:"subnitBtn",style:{opacity:y?"50%":"100%"},children:"Signup"})]})]}),(0,x.jsxs)("div",{className:"signup",children:[(0,x.jsx)("p",{children:"Have an account?"}),(0,x.jsx)(c.rU,{className:"link",to:p.ym,children:"Log In"})]})]})]})}},8815:function(){}}]);
//# sourceMappingURL=542.6b978a41.chunk.js.map