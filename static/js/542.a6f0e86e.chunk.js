"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[542],{5542:function(e,a,r){r.r(a);var s=r(4165),n=r(5861),t=r(4942),l=r(1413),u=r(885),o=r(2791),i=r(6871),c=r(3504),m=r(2984),p=(r(8815),r(6901)),d=r(7606),h=r(9257),f=r(9062),g=r(184);a.default=function(){var e=(0,i.s0)(),a=o.useContext(m.Z),r=a.auth,x=a.FieldValue,N=o.useState({email:"",password:"",userName:"",fullName:"",error:""}),w=(0,u.Z)(N,2),v=w[0],b=w[1],j=""===v.email||""===v.password||v.password.length<8||""===v.userName||""===v.fullName;function Z(e){b((function(a){return(0,l.Z)((0,l.Z)({},a),{},(0,t.Z)({},e.target.name,e.target.value))}))}function y(){return(y=(0,n.Z)((0,s.Z)().mark((function a(n){var t,u;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,(0,d.$K)(v.userName);case 3:if(a.sent){a.next=23;break}return a.prev=5,a.next=8,(0,h.Xb)(r,v.email,v.password);case 8:return t=a.sent,u=(0,f.hJ)(x,"users"),a.next=12,(0,f.ET)(u,{userId:t.user.uid,username:v.userName.toLowerCase(),fullName:v.fullName,emailAddress:v.email.toLowerCase(),following:["2"],followers:[],photos:0,dateCreated:Date.now()});case 12:return a.next=14,(0,d.bp)("Z4UuSMEn71luvi49bcOr",t.user.uid,!1);case 14:e(p.Sd),window.location.reload(),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(5),b({email:"",password:"",userName:"",fullName:"",error:a.t0.message.replace("Firebase: Error ","").replace("auth/","")});case 21:a.next=24;break;case 23:b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{userName:"",error:"That username is already taken, please try another."})}));case 24:case"end":return a.stop()}}),a,null,[[5,18]])})))).apply(this,arguments)}return o.useEffect((function(){document.title="Signup - Instagram"}),[]),(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("div",{className:"img-container",children:(0,g.jsx)("img",{src:"https://raw.githubusercontent.com/Amr-Zain/React-Instagram-Clone/master/public/images/iphone-with-profile.jpg",alt:"iPhone with Instagram app"})}),(0,g.jsxs)("div",{className:"container-sec",children:[(0,g.jsxs)("div",{className:"form-container",children:[(0,g.jsx)("img",{className:"logo",src:"https://raw.githubusercontent.com/Amr-Zain/React-Instagram-Clone/master/public/images/logo.png",alt:"logo"}),v.error&&(0,g.jsx)("p",{className:"error",children:v.error}),(0,g.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},method:"POST",children:[(0,g.jsx)("input",{name:"fullName",placeholder:"Enter Your Full Name",type:"text",onChange:Z,value:v.fullName}),(0,g.jsx)("input",{name:"email",placeholder:"Enter Your Email",type:"email",onChange:Z,value:v.email}),(0,g.jsx)("input",{name:"userName",placeholder:"Enter Your Full Username",type:"text",onChange:Z,value:v.userName}),(0,g.jsx)("input",{name:"password",placeholder:"Your Password",type:"password",onChange:Z,value:v.password}),(0,g.jsx)("button",{disabled:j,type:"submit",className:"subnitBtn",style:{opacity:j?"50%":"100%"},children:"Signup"})]})]}),(0,g.jsxs)("div",{className:"signup",children:[(0,g.jsx)("p",{children:"Have an account?"}),(0,g.jsx)(c.rU,{className:"link",to:p.ym,children:"Log In"})]})]})]})}},8815:function(){}}]);
//# sourceMappingURL=542.a6f0e86e.chunk.js.map