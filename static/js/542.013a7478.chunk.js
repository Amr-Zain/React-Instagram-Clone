"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[542],{5542:function(e,a,r){r.r(a);var s=r(4165),n=r(5861),t=r(4942),l=r(1413),u=r(885),o=r(2791),i=r(6871),c=r(3504),m=r(2984),p=(r(8815),r(6901)),d=r(7606),h=r(9257),f=r(9062),g=r(184);a.default=function(){(0,i.s0)();var e=o.useContext(m.Z),a=e.auth,r=e.FieldValue,x=o.useState({email:"",password:"",userName:"",fullName:"",error:""}),N=(0,u.Z)(x,2),w=N[0],v=N[1],b=""===w.email||""===w.password||w.password.length<8||""===w.userName||""===w.fullName;function j(e){v((function(a){return(0,l.Z)((0,l.Z)({},a),{},(0,t.Z)({},e.target.name,e.target.value))}))}function Z(){return(Z=(0,n.Z)((0,s.Z)().mark((function e(n){var t,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,(0,d.$K)(w.userName);case 3:if(e.sent){e.next=22;break}return e.prev=5,e.next=8,(0,h.Xb)(a,w.email,w.password);case 8:return t=e.sent,u=(0,f.hJ)(r,"users"),e.next=12,(0,f.ET)(u,{userId:t.user.uid,username:w.userName.toLowerCase(),fullName:w.fullName,emailAddress:w.email.toLowerCase(),following:["2"],followers:[],photos:0,dateCreated:Date.now()});case 12:return e.next=14,(0,d.bp)("Z4UuSMEn71luvi49bcOr",t.user.uid,!1);case 14:window.location.reload(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),v({email:"",password:"",userName:"",fullName:"",error:e.t0.message.replace("Firebase: Error ","").replace("auth/","")});case 20:e.next=23;break;case 22:v((function(e){return(0,l.Z)((0,l.Z)({},e),{},{userName:"",error:"That username is already taken, please try another."})}));case 23:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}return o.useEffect((function(){document.title="Signup - Instagram"}),[]),(0,g.jsxs)("div",{className:"container",children:[(0,g.jsx)("div",{className:"img-container",children:(0,g.jsx)("img",{src:"https://raw.githubusercontent.com/Amr-Zain/React-Instagram-Clone/master/public/images/iphone-with-profile.jpg",alt:"iPhone with Instagram app"})}),(0,g.jsxs)("div",{className:"container-sec",children:[(0,g.jsxs)("div",{className:"form-container",children:[(0,g.jsx)("img",{className:"logo",src:"https://raw.githubusercontent.com/Amr-Zain/React-Instagram-Clone/master/public/images/logo.png",alt:"logo"}),w.error&&(0,g.jsx)("p",{className:"error",children:w.error}),(0,g.jsxs)("form",{onSubmit:function(e){return Z.apply(this,arguments)},method:"POST",children:[(0,g.jsx)("input",{name:"fullName",placeholder:"Enter Your Full Name",type:"text",onChange:j,value:w.fullName}),(0,g.jsx)("input",{name:"email",placeholder:"Enter Your Email",type:"email",onChange:j,value:w.email}),(0,g.jsx)("input",{name:"userName",placeholder:"Enter Your Full Username",type:"text",onChange:j,value:w.userName}),(0,g.jsx)("input",{name:"password",placeholder:"Your Password",type:"password",onChange:j,value:w.password}),(0,g.jsx)("button",{disabled:b,type:"submit",className:"subnitBtn",style:{opacity:b?"50%":"100%"},children:"Signup"})]})]}),(0,g.jsxs)("div",{className:"signup",children:[(0,g.jsx)("p",{children:"Have an account?"}),(0,g.jsx)(c.rU,{className:"link",to:p.ym,children:"Log In"})]})]})]})}},8815:function(){}}]);
//# sourceMappingURL=542.013a7478.chunk.js.map